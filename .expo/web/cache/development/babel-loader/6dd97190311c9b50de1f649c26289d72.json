{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport { firebaseDatabase } from \"../util/firebaseUtils\";\n\nvar FirebaseService = function FirebaseService() {\n  _classCallCheck(this, FirebaseService);\n};\n\nFirebaseService.getDataList = function (nodePath, callback) {\n  var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n  var query = firebaseDatabase.ref(nodePath).limitToLast(size);\n  query.on('value', function (dataSnapshot) {\n    var items = [];\n    dataSnapshot.forEach(function (childSnapshot) {\n      var item = childSnapshot.val();\n      item['name'] = childSnapshot.name;\n      items.push(item);\n    });\n    callback(items);\n  });\n  return query;\n};\n\nFirebaseService.pushData = function (node, objToSubmit) {\n  var ref = firebaseDatabase.ref(node).push();\n  var id = firebaseDatabase.ref(node).push().key;\n  ref.set(objToSubmit);\n  return id;\n};\n\nexport { FirebaseService as default };","map":{"version":3,"sources":["C:/wamp64/reactNative_projects/vacinas/src/services/FirebaseService.js"],"names":["firebaseDatabase","FirebaseService","getDataList","nodePath","callback","size","query","ref","limitToLast","on","dataSnapshot","items","forEach","childSnapshot","item","val","name","push","pushData","node","objToSubmit","id","key","set"],"mappings":";AAAA,SAAQA,gBAAR;;IAEqBC,e;;;;AAAAA,e,CACVC,W,GAAc,UAACC,QAAD,EAAWC,QAAX,EAAmC;AAAA,MAAdC,IAAc,uEAAP,EAAO;AACpD,MAAIC,KAAK,GAAGN,gBAAgB,CAACO,GAAjB,CAAqBJ,QAArB,EAA+BK,WAA/B,CAA2CH,IAA3C,CAAZ;AAEAC,EAAAA,KAAK,CAACG,EAAN,CAAS,OAAT,EAAkB,UAAAC,YAAY,EAAI;AAC9B,QAAIC,KAAK,GAAG,EAAZ;AACAD,IAAAA,YAAY,CAACE,OAAb,CAAqB,UAAAC,aAAa,EAAI;AAClC,UAAIC,IAAI,GAAGD,aAAa,CAACE,GAAd,EAAX;AACAD,MAAAA,IAAI,CAAC,MAAD,CAAJ,GAAeD,aAAa,CAACG,IAA7B;AACAL,MAAAA,KAAK,CAACM,IAAN,CAAWH,IAAX;AACH,KAJD;AAKAV,IAAAA,QAAQ,CAACO,KAAD,CAAR;AACH,GARD;AASA,SAAOL,KAAP;AACH,C;;AAdgBL,e,CAgBViB,Q,GAAW,UAACC,IAAD,EAAOC,WAAP,EAAuB;AACrC,MAAMb,GAAG,GAAGP,gBAAgB,CAACO,GAAjB,CAAqBY,IAArB,EAA2BF,IAA3B,EAAZ;AACA,MAAMI,EAAE,GAAGrB,gBAAgB,CAACO,GAAjB,CAAqBY,IAArB,EAA2BF,IAA3B,GAAkCK,GAA7C;AACAf,EAAAA,GAAG,CAACgB,GAAJ,CAAQH,WAAR;AACA,SAAOC,EAAP;AACH,C;;SArBgBpB,e","sourcesContent":["import {firebaseDatabase} from '../util/firebaseUtils'\r\n\r\nexport default class FirebaseService {\r\n    static getDataList = (nodePath, callback, size = 10) => {\r\n        let query = firebaseDatabase.ref(nodePath).limitToLast(size);\r\n\r\n        query.on('value', dataSnapshot => {\r\n            let items = [];\r\n            dataSnapshot.forEach(childSnapshot => {\r\n                let item = childSnapshot.val();\r\n                item['name'] = childSnapshot.name;\r\n                items.push(item);\r\n            });\r\n            callback(items);\r\n        });\r\n        return query;\r\n    }\r\n\r\n    static pushData = (node, objToSubmit) => {\r\n        const ref = firebaseDatabase.ref(node).push();\r\n        const id = firebaseDatabase.ref(node).push().key;\r\n        ref.set(objToSubmit);\r\n        return id;\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}